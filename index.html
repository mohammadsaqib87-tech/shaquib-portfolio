    <script>
        // TERA FINAL SCRIPT URL
        const api = "https://script.google.com/macros/s/AKfycbySoqGHYF0Dxf8cOeCNHBsLZskTslawbOr9TTTGlVSwN5HheOwpZuRbjvFr3drskagCCw/exec";
        let masterData = [];

        // Fetch Data
        fetch(api).then(res => res.json()).then(data => {
            masterData = data;
            // SPELLING FIXED: leader -> loader
            document.getElementById("loader").style.display = "none";
            // SPELLING FIXED: randar -> render
            render(data, 'All');
        }).catch(e => {
            document.getElementById("loader").innerHTML = "⚠️ SYSTEM OFFLINE";
        });

        // Render Function
        function render(items, viewType) {
            const grid = document.getElementById("main-grid");
            
            if (items.length === 0) {
                grid.innerHTML = "<div style='color:#666; text-align:center; width:100%; grid-column:1/-1; padding:20px;'>No photos found in folder</div>";
                return;
            }

            grid.innerHTML = items.map(i => {
                // YE WALA LINE EKDAM SAHI HAI AB:
                let id = i.url.split('/d/')[1].split('/')[0];
                
                let isVideo = i.type.includes("video");
                let cssClass = (viewType === 'Videos') ? 'item video-mode' : 'item';
                let icon = isVideo ? `<div class="vid-icon"><i class="fas fa-play"></i></div>` : '';

                // High Quality Image Link
                let content = i.type.includes("image") ? 
                    `<img src="https://lh3.googleusercontent.com/d/${id}=s1000" loading="lazy">` : 
                    `<iframe src="https://drive.google.com/file/d/${id}/preview" style="pointer-events:none;"></iframe>`;

                return `<div class="${cssClass}">
                    ${content}
                    ${icon}
                </div>`;
            }).join('');
        }

        // Filter Function
        function filterType(type, btn) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            let filtered = [];
            if(type === 'All') filtered = masterData;
            else if (type === 'Photos') filtered = masterData.filter(i => i.type.includes("image"));
            else if (type === 'Videos') filtered = masterData.filter(i => i.type.includes("video"));
            
            // SPELLING FIXED: randar -> render
            render(filtered, type);
        }
    </script>
    
